{"version":3,"sources":["../node_modules/just-debounce-it/index.js","pages/SearchResultScreen.js"],"names":["module","exports","fn","wait","callFirst","timeout","debouncedFn","clear","clearTimeout","debounceWrapper","apply","this","arguments","context","args","callNow","setTimeout","call","cancel","flush","SearchResultScreen","useParams","keyword","rating","useFetchGifs","loading","keywordToUse","setPage","gifs","useGetGifs","externalRef","useRef","isNearScreen","useNearScreen","once","debounceHandleNextPage","useCallback","debounce","prevPage","useEffect","initialRating","ínitialKeyword","id","ref"],"mappings":"4FAAAA,EAAOC,QAEP,SAAkBC,EAAIC,EAAMC,GAC1B,IAAIC,EAAU,KACVC,EAAc,KAEdC,EAAQ,WACNF,IACFG,aAAaH,GAEbC,EAAc,KACdD,EAAU,OAaVI,EAAkB,WACpB,IAAKN,EACH,OAAOD,EAAGQ,MAAMC,KAAMC,WAGxB,IAAIC,EAAUF,KACVG,EAAOF,UACPG,EAAUX,IAAcC,EAkB5B,OAjBAE,IAEAD,EAAc,WACZJ,EAAGQ,MAAMG,EAASC,IAGpBT,EAAUW,YAAW,WAGnB,GAFAX,EAAU,MAELU,EAAS,CACZ,IAAIE,EAAOX,EAGX,OAFAA,EAAc,KAEPW,OAERd,GAECY,EACKT,SADT,GAQF,OAHAG,EAAgBS,OAASX,EACzBE,EAAgBU,MAxCJ,WACV,IAAIF,EAAOX,EACXC,IAEIU,GACFA,KAqCGR,I,gCCzDT,yGA4DeW,UAhDY,WAAO,IAAD,EACDC,cAApBC,EADqB,EACrBA,QAASC,EADY,EACZA,OADY,EAIcC,YAAa,CACpDF,UACAC,WAFIE,EAJqB,EAIrBA,QAASC,EAJY,EAIZA,aAAcC,EAJF,EAIEA,QAKzBC,EAAOC,cAEPC,EAAcC,mBAEZC,EAAiBC,YAAc,CACnCH,YAAaL,EAAU,KAAOK,EAC9BI,MAAM,IAFFF,aAMFG,EAAyBC,sBAC3BC,KAAS,kBAAMV,GAAQ,SAACW,GAAD,OAAcA,EAAW,OAAI,KACpD,CAACX,IAYL,OATAY,qBACI,WACQP,GACAG,MAGR,CAACA,EAAwBH,IAIzB,qCACI,cAAC,IAAD,UACI,sCAASV,GAAW,cAApB,SAGJ,6BAAKI,IACL,cAAC,IAAD,CAAYc,cAAejB,EAAQkB,oBAAgBnB,IAClDG,GAAW,cAAC,IAAD,IACZ,cAAC,IAAD,CAASG,KAAMA,IACf,qBAAKc,GAAG,QAAQC,IAAKb","file":"static/js/6.c4e03904.chunk.js","sourcesContent":["module.exports = debounce;\n\nfunction debounce(fn, wait, callFirst) {\n  var timeout = null;\n  var debouncedFn = null;\n\n  var clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n\n      debouncedFn = null;\n      timeout = null;\n    }\n  };\n\n  var flush = function() {\n    var call = debouncedFn;\n    clear();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var debounceWrapper = function() {\n    if (!wait) {\n      return fn.apply(this, arguments);\n    }\n\n    var context = this;\n    var args = arguments;\n    var callNow = callFirst && !timeout;\n    clear();\n\n    debouncedFn = function() {\n      fn.apply(context, args);\n    };\n\n    timeout = setTimeout(function() {\n      timeout = null;\n\n      if (!callNow) {\n        var call = debouncedFn;\n        debouncedFn = null;\n\n        return call();\n      }\n    }, wait);\n\n    if (callNow) {\n      return debouncedFn();\n    }\n  };\n\n  debounceWrapper.cancel = clear;\n  debounceWrapper.flush = flush;\n\n  return debounceWrapper;\n}\n","import React, { useCallback, useEffect, useRef } from \"react\";\r\nimport { useParams } from \"react-router\";\r\n\r\nimport GridGif from \"components/GridGif\";\r\nimport Loader from \"components/Loader/Loader\";\r\nimport useFetchGifs from \"hooks/useFetchGifs\";\r\nimport { useGetGifs } from \"hooks/useGetGifs\";\r\nimport { useNearScreen } from \"hooks/useNearScreen\";\r\nimport debounce from \"just-debounce-it\";\r\nimport Helmet from \"react-helmet\";\r\nimport SearchForm from \"components/SearchForm\";\r\n\r\nconst SearchResultScreen = () => {\r\n    const { keyword, rating } = useParams();\r\n\r\n\r\n    const { loading, keywordToUse, setPage } = useFetchGifs({\r\n        keyword,\r\n        rating,\r\n    });\r\n\r\n    const gifs = useGetGifs();\r\n\r\n    const externalRef = useRef();\r\n\r\n    const { isNearScreen } = useNearScreen({\r\n        externalRef: loading ? null : externalRef,\r\n        once: false,\r\n    });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const debounceHandleNextPage = useCallback(\r\n        debounce(() => setPage((prevPage) => prevPage + 1), 200),\r\n        [setPage]\r\n    );\r\n\r\n    useEffect(\r\n        function () {\r\n            if (isNearScreen) {\r\n                debounceHandleNextPage();\r\n            }\r\n        },\r\n        [debounceHandleNextPage, isNearScreen]\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title> {keyword || \"Search Page\"} </title>\r\n            </Helmet>\r\n\r\n            <h3>{keywordToUse}</h3>\r\n            <SearchForm initialRating={rating} ínitialKeyword={keyword} />\r\n            {loading && <Loader />}\r\n            <GridGif gifs={gifs} />\r\n            <div id=\"visor\" ref={externalRef}></div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SearchResultScreen;\r\n"],"sourceRoot":""}